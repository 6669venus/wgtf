SET( BW_SINGLETON_MANAGER_SUPPORT ON )
SET( NGT_SUPPORT ON )

# Find Maya
SET( MAYA_DEVKIT_DIR ${NGT_SOURCE_DIR}/core/third_party/maya/${MAYA_VERSION} )
SET( MAYA_QT_DIR ${MAYA_DEVKIT_DIR}/qt )
SET( MAYA_QT_HEADER_DIR ${MAYA_QT_DIR}/include )
SET( MAYA_INCLUDE_DIRS ${MAYA_DEVKIT_DIR}/include)

FIND_PACKAGE( Maya ${MAYA_VERSION} REQUIRED )

# Help FindQt4.cmake find the Maya Qt
SET( ENV{QTDIR} ${MAYA_LOCATION} )
SET(QT_HEADERS_DIR ${MAYA_QT_HEADER_DIR})

FIND_PATH(QT_QTCORE_INCLUDE_DIR QtCore
        HINTS ${QT_HEADERS_DIR}
        PATH_SUFFIXES QtCore
        NO_DEFAULT_PATH
)

FIND_PROGRAM(QT_QMAKE_EXECUTABLE NAMES qmake
	PATHS
		ENV QTDIR
		${MAYA_QT_DIR}
	PATH_SUFFIXES bin
	NO_DEFAULT_PATH
)

FIND_PACKAGE( Qt4 ${MAYA_QT_VERSION_SHORT} REQUIRED QtCore QtGui )

# load the Qt tools
INCLUDE( ${QT_USE_FILE} )

ADD_DEFINITIONS( -DEDITOR_ENABLED )
ADD_DEFINITIONS( -DALLOW_STACK_CONTAINER )

# Hack to get Qt binary copy workign while building via this configuration file.
SET(BW_IS_QT_TOOLS ON)
SET(BW_IS_GENERIC_APP_TEST ON)

INCLUDE_DIRECTORIES( ${NGT_SOURCE_DIR} )
INCLUDE_DIRECTORIES( ${NGT_SOURCE_DIR}/core )
INCLUDE_DIRECTORIES( ${NGT_SOURCE_DIR}/core/lib )
INCLUDE_DIRECTORIES( ${NGT_SOURCE_DIR}/bw )
INCLUDE_DIRECTORIES( ${NGT_SOURCE_DIR}/bw/lib )

INCLUDE_DIRECTORIES( ${MAYA_DEVKIT_DIR}/include )
INCLUDE_DIRECTORIES( ${MAYA_QT_HEADER_DIR} )
